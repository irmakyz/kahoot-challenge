"use strict";(self.webpackChunkkahoot_challenge=self.webpackChunkkahoot_challenge||[]).push([[100],{100:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(888),i=a(28),r=class extends s.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,i.PL)()},t)}getOptimisticResult(e){return e.behavior=(0,i.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:a}=e,s=super.createResult(e,t),{isFetching:r,isRefetching:n,isError:c,isRefetchError:o}=s,l=a.fetchMeta?.fetchMore?.direction,h=c&&"forward"===l,d=r&&"forward"===l,m=c&&"backward"===l,u=r&&"backward"===l;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.rB)(t,a.data),hasPreviousPage:(0,i.RQ)(t,a.data),isFetchNextPageError:h,isFetchingNextPage:d,isFetchPreviousPageError:m,isFetchingPreviousPage:u,isRefetchError:o&&!h&&!m,isRefetching:n&&!d&&!u}}},n=a(290);var c=a(43),o=a(291),l=a(922),h=a(216),d=a(579);const m=e=>{let{name:t,detailsURL:a}=e;const s=(0,h.Zp)();return(0,d.jsxs)("article",{className:"list-item",children:[(0,d.jsx)("div",{className:"list-item__content",children:(0,d.jsx)("div",{className:"list-item__info",children:(0,d.jsx)("div",{className:"list-item__header",children:(0,d.jsx)("h2",{className:"list-item__name",children:t})})})}),(0,d.jsx)("div",{className:"list-item__action-button-container",children:(0,d.jsx)(l.A,{onClick:()=>{s(`/details/${encodeURIComponent(a)}`)},children:"Details"})})]})};var u=a(182);const g=e=>{let{listItems:t,isLoading:a=!1}=e;return(0,d.jsxs)("div",{className:"list",children:[a&&(0,d.jsx)(u.A,{}),!a&&0!==t.length&&t.map(((e,t)=>(0,d.jsx)(m,{name:e.name,detailsURL:e.detailsURL},t)))]})};var p=a(414),P=a(959);const f=()=>{const[e,t]=(0,c.useState)([]),{data:a,error:s,isLoading:i,fetchNextPage:h}=(m={queryKey:["listItems"],queryFn:e=>{let{pageParam:t=0}=e;return(0,o.F)({pageParam:t})},getNextPageParam:e=>e.hasMore?e.nextPage:void 0,initialPageParam:0},(0,n.t)(m,r,u));var m,u;return(0,c.useEffect)((()=>{(async()=>{if(null===a||void 0===a||!a.pages)return;const e=a.pages.flatMap((e=>e.items||[])),s=(await Promise.all(e.map((async e=>e instanceof Promise?await e:e)))).filter((e=>null===e||void 0===e?void 0:e.name)).sort(((e,t)=>e.name.localeCompare(t.name)));t(s)})()}),[a]),(0,d.jsxs)("div",{className:"home",children:[(0,d.jsx)("h1",{className:"home__header",children:"Catch a Pokemon!"}),s&&(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:P,alt:"Pokeball"}),"An error happened while gathering the pokemons, try to reload the page!"]}),!s&&(0,d.jsx)(g,{listItems:e||[],isLoading:i}),(0,d.jsx)(l.A,{size:p.G.LARGE,onClick:()=>{h()},children:"Load More"})]})}},291:(e,t,a)=>{a.d(t,{F:()=>i,w:()=>r});var s=a(213);const i=async e=>{let{pageParam:t=0}=e;const a=await s.A.get(`https://pokeapi.co/api/v2/pokemon?offset=${t}&limit=10`);return{items:a.data.results.map((async e=>({name:e.name,detailsURL:e.url}))),nextPage:t+10,hasMore:null!==a.data.next}},r=async e=>{const t=await s.A.get(e);return{id:t.data.id,name:t.data.name,types:t.data.types.map((e=>e.type.name)),powers:t.data.stats.map((e=>({name:e.stat.name,value:e.base_stat}))),abilities:t.data.abilities.map((e=>e.ability.name)),experience:t.data.base_experience,imageUrl:t.data.sprites.front_default}}},414:(e,t,a)=>{a.d(t,{G:()=>s,q:()=>i});const s={SMALL:"small",MEDIUM:"medium",LARGE:"large",BLOCK:"block"},i={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",DANGER:"danger",SUCCESS:"success"}},922:(e,t,a)=>{a.d(t,{A:()=>r});a(43);var s=a(414),i=a(579);const r=e=>{let{size:t=s.G.SMALL,color:a=s.q.PRIMARY,onClick:r,children:n}=e;return(0,i.jsx)("button",{className:`button ${t} ${a}`,onClick:r,children:n})}}}]);
//# sourceMappingURL=100.d2099f36.chunk.js.map