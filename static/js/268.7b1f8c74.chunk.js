"use strict";(self.webpackChunkkahoot_challenge=self.webpackChunkkahoot_challenge||[]).push([[268],{268:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(888),r=a(28),i=class extends s.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,r.PL)()},t)}getOptimisticResult(e){return e.behavior=(0,r.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:a}=e,s=super.createResult(e,t),{isFetching:i,isRefetching:n,isError:o,isRefetchError:c}=s,h=a.fetchMeta?.fetchMore?.direction,d=o&&"forward"===h,l=i&&"forward"===h,g=o&&"backward"===h,u=i&&"backward"===h;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.rB)(t,a.data),hasPreviousPage:(0,r.RQ)(t,a.data),isFetchNextPageError:d,isFetchingNextPage:l,isFetchPreviousPageError:g,isFetchingPreviousPage:u,isRefetchError:c&&!d&&!g,isRefetching:n&&!l&&!u}}},n=a(290);var o=a(43),c=a(291),h=a(414),d=a(959),l=a(802),g=a(579);const u=()=>{const[e,t]=(0,o.useState)([]),{data:a,error:s,isLoading:r,fetchNextPage:u}=(m={queryKey:["listItems"],queryFn:e=>{let{pageParam:t=0}=e;return(0,c.F)({pageParam:t})},getNextPageParam:e=>e.hasMore?e.nextPage:void 0,initialPageParam:0},(0,n.t)(m,i,p));var m,p;return(0,o.useEffect)((()=>{(async()=>{if(null===a||void 0===a||!a.pages)return;const e=a.pages.flatMap((e=>e.items||[])),s=(await Promise.all(e.map((async e=>e instanceof Promise?await e:e)))).filter((e=>null===e||void 0===e?void 0:e.name)).sort(((e,t)=>e.name.localeCompare(t.name)));t(s)})()}),[a]),(0,g.jsxs)("div",{className:"home",children:[(0,g.jsx)("h1",{className:"home__header",children:"Catch a Pokemon!"}),s&&(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:d,alt:"Pokeball"}),"An error happened while gathering the pokemons, try to reload the page!"]}),!s&&(0,g.jsx)(l.B8,{listItems:e||[],isLoading:r}),(0,g.jsx)(l.$n,{size:h.G.LARGE,onClick:()=>{u()},children:"Load More"})]})}},291:(e,t,a)=>{a.d(t,{F:()=>r,w:()=>i});var s=a(213);const r=async e=>{let{pageParam:t=0}=e;const a=await s.A.get(`https://pokeapi.co/api/v2/pokemon?offset=${t}&limit=10`);return{items:a.data.results.map((async e=>({name:e.name,detailsURL:e.url}))),nextPage:t+10,hasMore:null!==a.data.next}},i=async e=>{const t=await s.A.get(e);return{id:t.data.id,name:t.data.name,types:t.data.types.map((e=>e.type.name)),powers:t.data.stats.map((e=>({name:e.stat.name,value:e.base_stat}))),abilities:t.data.abilities.map((e=>e.ability.name)),experience:t.data.base_experience,imageUrl:t.data.sprites.front_default}}}}]);
//# sourceMappingURL=268.7b1f8c74.chunk.js.map